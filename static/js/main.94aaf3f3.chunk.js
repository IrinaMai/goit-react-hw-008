(this["webpackJsonpgoit-react-hw-06-phonebook"]=this["webpackJsonpgoit-react-hw-06-phonebook"]||[]).push([[0],{12:function(t,e,n){t.exports={title:"ContactList_title__1xOzx",label:"ContactList_label__3fAXA",input:"ContactList_input__35ug1",button:"ContactList_button__o4f97",list:"ContactList_list__bG_6i",listItem:"ContactList_listItem__22BVO",nameItem:"ContactList_nameItem__2aKos",loader:"ContactList_loader__1aFjn"}},13:function(t,e,n){t.exports={title:"PhoneBookForm_title__2gET7",label:"PhoneBookForm_label__2bihM",input:"PhoneBookForm_input___77zt",button:"PhoneBookForm_button__1WmKK",alert:"PhoneBookForm_alert__3VbBy",alertMessage:"PhoneBookForm_alertMessage__1OmMp"}},39:function(t,e,n){t.exports={appear:"fadeStyle_appear__2XvB4",appearActive:"fadeStyle_appearActive__3EVX0",enter:"fadeStyle_enter__3Yr6t",enterActive:"fadeStyle_enterActive__F52oh",exit:"fadeStyle_exit__2KuyH",exitActive:"fadeStyle_exitActive__tcLY5"}},40:function(t,e,n){t.exports={enter:"fade_enter__2ltl5",enterActive:"fade_enterActive__2P9kW",exit:"fade_exit__2SaQ6",exitActive:"fade_exitActive__2GkFY",error:"fade_error__3Car4"}},54:function(t,e,n){},92:function(t,e,n){"use strict";n.r(e);var c,a=n(1),o=n(0),i=n(14),r=n.n(i),s=n(41),u=n(9),l=(n(54),n(16)),b=n(7),j=n(10),f=n(3),d=Object(b.b)("@phoneBook/addFilter"),O=Object(b.b)("@phoneBook/clearFilter"),h=Object(b.b)("@phoneBook/loading"),m=Object(b.b)("@phoneBook/addContactSuccess",(function(t){return{payload:Object(f.a)({},t)}})),_=Object(b.b)("@phoneBook/getContactSuccess"),p=Object(b.b)("@phoneBook/deleteContactSuccess"),x=Object(b.b)("@phoneBook/setError"),g=Object(b.c)(Object(f.a)({},{contactList:[],filter:"",isLoading:!1,error:""}),(c={},Object(j.a)(c,h,(function(t){return Object(f.a)(Object(f.a)({},t),{},{isLoading:!t.isLoading})})),Object(j.a)(c,m,(function(t,e){return Object(f.a)(Object(f.a)({},t),{},{contactList:[].concat(Object(l.a)(t.contactList),[e.payload])})})),Object(j.a)(c,_,(function(t,e){return Object(f.a)(Object(f.a)({},t),{},{contactList:Object(l.a)(e.payload)})})),Object(j.a)(c,d,(function(t,e){return Object(f.a)(Object(f.a)({},t),{},{filter:e.payload})})),Object(j.a)(c,O,(function(t,e){return Object(f.a)(Object(f.a)({},t),{},{filter:""})})),Object(j.a)(c,p,(function(t,e){return Object(f.a)(Object(f.a)({},t),{},{contactList:Object(l.a)(t.contactList.filter((function(t){return t.id!==e.payload})))})})),Object(j.a)(c,x,(function(t,e){return Object(f.a)(Object(f.a)({},t),{},{error:e.payload})})),c)),v=Object(b.d)(),k=Object(b.a)({reducer:g,middleware:Object(l.a)(v)}),y=n(22),L=n.n(y),C=n(94),N=n(93),B=n(38),F=n.n(B),A=n(20),S=function(t){return t.contactList},w=function(t){return t.isLoading},T=function(t){return t.error},P=Object(A.a)([S,function(t){return t.filter}],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))})),E=n(12),I=n(39),M=n.n(I),K=function(){var t=Object(u.c)(w),e=Object(u.c)(P),n=Object(u.c)(S),c=Object(u.b)();Object(o.useEffect)((function(){c(O())}),[n.length<=2]);var i=function(t){var e;c((e=t.target.id,function(t){t(h()),L.a.delete("".concat("https://phonebook-d5757-default-rtdb.firebaseio.com/","contacts/").concat(e,".json")).then((function(){return t(p(e))})).catch((function(e){return t(x("ooops samthing going wrong"))})).then(setTimeout((function(){t(x(""))}),1500)).finally((function(){return t(h())}))}))};return Object(a.jsxs)(a.Fragment,{children:[n.length>2&&Object(a.jsxs)("label",{className:E.label,children:["Search name:",Object(a.jsx)("input",{name:"search",type:"text",onChange:function(t){c(d(t.target.value))},className:E.input,value:E.filter})]}),Object(a.jsx)("h2",{className:E.title,children:"Contact list "}),t&&Object(a.jsx)(F.a,{type:"TailSpin",color:"#6699FF",height:30,width:30,className:E.loader}),Object(a.jsx)(C.a,{component:"ul",className:E.list,children:e.map((function(t){var e=t.id,n=t.name,c=t.phone;return Object(a.jsx)(N.a,{timeout:250,classNames:M.a,children:Object(a.jsxs)("li",{className:E.listItem,children:[Object(a.jsxs)("span",{className:E.nameItem,children:[n," :"]}),c,Object(a.jsx)("button",{type:"button",onClick:i,id:e,className:E.button,children:"Delete"})]})},e)}))})]})},V=n(42),X=n(13),Y=n(40),z=n.n(Y),D={name:"",phone:"",message:""},G=function(){var t=Object(o.useState)(Object(f.a)({},D)),e=Object(V.a)(t,2),n=e[0],c=e[1],i=Object(u.c)(S),r=Object(u.c)(T),s=Object(u.b)(),l=function(t){var e=t.target,n=e.name,a=e.value;c((function(t){return Object(f.a)(Object(f.a)({},t),{},Object(j.a)({},n,a))}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{className:X.title,children:"Phonebook"}),Object(a.jsx)(N.a,{in:r.length>0,timeout:250,unmountOnExit:!0,classNames:z.a,children:Object(a.jsx)("div",{className:X.alert,children:Object(a.jsx)("p",{className:X.alertMessage,children:r})})}),Object(a.jsxs)("form",{onSubmit:function(t){return t.preventDefault(),n.name&&n.phone?i.find((function(t){return t.name.toLowerCase()===n.name.toLowerCase()}))?(s(x("This name already exist")),void setTimeout((function(){s(x(""))}),1500)):i.find((function(t){return t.phone==n.phone}))?(s(x("This phone belongs another contact")),void setTimeout((function(){s(x(""))}),1500)):(s(function(t){return function(e){e(h()),L.a.post("".concat("https://phonebook-d5757-default-rtdb.firebaseio.com/","contacts.json"),t).then((function(n){e(m(Object(f.a)(Object(f.a)({},t),{},{id:n.data.name})))})).catch((function(t){return e(x("ooops samthing going wrong"))})).then(setTimeout((function(){e(x(""))}),1500)).finally((function(){return e(h())}))}}(n)),void c(Object(f.a)({},D))):(s(x("All fields should be complited")),void setTimeout((function(){s(x(""))}),1500))},children:[Object(a.jsxs)("label",{className:X.label,children:["Name:",Object(a.jsx)("input",{name:"name",value:n.name,onChange:l,className:X.input})]}),Object(a.jsxs)("label",{className:X.label,children:["Number:",Object(a.jsx)("input",{name:"phone",value:n.phone,onChange:l,className:X.input})]}),Object(a.jsx)("button",{type:"submit",className:X.button,children:"Add Contact"})]})]})};var J=function(){var t=Object(u.b)();return Object(o.useEffect)((function(){t((function(t){t(h()),L.a.get("".concat("https://phonebook-d5757-default-rtdb.firebaseio.com/","contacts.json")).then((function(e){t(_(Object.keys(e.data).map((function(t){return Object(f.a)(Object(f.a)({},e.data[t]),{},{id:t})}))))})).catch((function(e){return t(x("No one contact"))})).then(setTimeout((function(){t(x(""))}),1500)).finally((function(){return t(h())}))}))}),[t]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(G,{}),Object(a.jsx)(K,{})]})};r.a.render(Object(a.jsx)(u.a,{store:k,children:Object(a.jsx)(s.a,{children:Object(a.jsx)(J,{})})}),document.getElementById("root"))}},[[92,1,2]]]);
//# sourceMappingURL=main.94aaf3f3.chunk.js.map